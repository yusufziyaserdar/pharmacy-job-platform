@model JobPostCreateViewModel
@using PharmacyJobPlatform.Domain.Enums

@{
    ViewData["Title"] = "Yeni İş İlanı";
}

<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow-sm mt-4">
            <div class="card-body p-4">

                <h3 class="mb-4 text-center">📄 Yeni İş İlanı Oluştur</h3>

                <form method="post">

                    <!-- Başlık -->
                    <div class="mb-3">
                        <label asp-for="Title" class="form-label">İlan Başlığı</label>
                        <input asp-for="Title" class="form-control" />
                        <span asp-validation-for="Title" class="text-danger"></span>
                    </div>

                    <!-- Açıklama -->
                    <div class="mb-3">
                        <label asp-for="Description" class="form-label">İlan Açıklaması</label>
                        <textarea asp-for="Description" class="form-control" rows="4"></textarea>
                        <span asp-validation-for="Description" class="text-danger"></span>
                    </div>

                    <!-- İş Türü -->
                    <div class="mb-3">
                        <label asp-for="JobType" class="form-label">İş Türü</label>
                        <select asp-for="JobType" class="form-select" id="jobType">
                            <option value="">Seçiniz</option>
                            <option value="Permanent">🕒 Kalıcı</option>
                            <option value="Daily">📆 Günlük</option>
                        </select>
                        <span asp-validation-for="JobType" class="text-danger"></span>
                    </div>

                    <hr />

                    <!-- Günlük -->
                    <div id="dailyFields" class="border rounded p-3 mb-3 bg-light" style="display:none">
                        <h6>📆 Günlük İş</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <label asp-for="DailyWage">Günlük Ücret</label>
                                <input asp-for="DailyWage" class="form-control" />
                            </div>
                            <div class="col-md-6">
                                <label asp-for="WorkDate">Çalışma Tarihi</label>
                                <input asp-for="WorkDate" type="date" class="form-control" />
                            </div>
                        </div>
                    </div>

                    <!-- Kalıcı -->
                    <div id="permanentFields" class="border rounded p-3 mb-3 bg-light" style="display:none">
                        <h6>🕒 Kalıcı İş</h6>
                        <label asp-for="MonthlySalary">Aylık Maaş</label>
                        <input asp-for="MonthlySalary" class="form-control" />
                    </div>

                    <div class="text-end">
                        <button class="btn btn-primary">💾 Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        const jobType = document.getElementById("jobType");
        const daily = document.getElementById("dailyFields");
        const permanent = document.getElementById("permanentFields");

        function toggle() {
            daily.style.display = jobType.value === "Daily" ? "block" : "none";
            permanent.style.display = jobType.value === "Permanent" ? "block" : "none";
        }
        jobType.addEventListener("change", toggle);
        toggle();
    </script>
}
